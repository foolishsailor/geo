!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.geo=e():t.geo=e()}(window,(function(){return function(t){var e={};function a(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e){t.exports=(()=>{_checkBearings=t=>{let e=[];return t.forEach((function(t,a){(isNaN(t)||t>=360||t<0)&&e.push({index:a,value:t})})),e},Number.prototype.toRad=function(){return this*Math.PI/180},Number.prototype.toDeg=function(){return 180*this/Math.PI},Number.prototype.toBrng=function(){return(this.toDeg()+360)%360},Number.prototype.toDMS=function(){let t=Math.abs(this);t+=1/7200;let e=Math.floor(t),a=Math.floor(60*(t-e)),n=Math.floor(3600*(t-e-a/60));return e<100&&(e="0"+e),e<10&&(e="0"+e),a<10&&(a="0"+a),n<10&&(n="0"+n),e+"°"+a+"′"+n+"″"},Number.prototype.toLat=function(){return this.toDMS().slice(1)+(this<0?"S":"N")},Number.prototype.toLon=function(){return this.toDMS()+(this>0?"E":"W")},Number.prototype.toPrecision=function(t){if(0==this)return 0;let e=Math.ceil(Math.log(this)*Math.LOG10E),a=Math.pow(10,t-e);return Math.round(this*a)/a},String.prototype.parseDMS=function(){if(!isNaN(parseFloat(this))&&isFinite(this))return Number(this);let t,e=this.replace(/^-/,"").replace(/[NSEW]/i,""),a=e.split(/[^0-9.,]+/);for(let t in a)""==a[t]&&a.splice(t,1);switch(a.length){case 3:t=a[0]/1+a[1]/60+a[2]/3600;break;case 2:t=a[0]/1+a[1]/60;break;case 1:/[NS]/i.test(this)&&(e="0"+e),t=a[0].slice(0,3)/1+a[0].slice(3,5)/60+a[0].slice(5)/3600;break;default:return NaN}return(/^-/.test(this)||/[WS]/i.test(this))&&(t=-t),t};return{getAvgOfBearings:t=>{if(t.length<2)return{error:"Less than two bearings"};let e=_checkBearings(t);if(e.length>0)return{error:"Invalid Bearings",values:e};let a=t.reduce((function(t,e){return{sinValue:t.sinValue+=Math.sin(e.toRad()),cosValue:t.cosValue+=Math.cos(e.toRad())}}),{sinValue:0,cosValue:0}),n=Math.atan2(a.sinValue,a.cosValue),r=n.toRad();return r<=-1&&(r+=359),{degrees:Math.abs(Math.round(100*r)/100),radians:n}},getBearingBetweenTwoPoints:(t,e)=>{let a=t.lat*Math.PI/180,n=e.lat*Math.PI/180,r=(e.lon-t.lon)*Math.PI/180,i=Math.sin(r)*Math.cos(n),l=Math.cos(a)*Math.sin(n)-Math.sin(a)*Math.cos(n)*Math.cos(r);return(180*Math.atan2(i,l)/Math.PI+360)%360},getBearingDiff:(t,e)=>Math.min(t-e<0?t-e+360:t-e,e-t<0?e-t+360:e-t),addHeading:(t,e)=>(hdg=t+e,hdg<0&&(hdg+=360),hdg>=360&&(hdg-=360),hdg),invertHDG:t=>((t+=180)<0&&(t+=360),t>=360&&(t-=360),t),findMiddleAngle:function(t,e){t=Math.round(t),e=Math.round(e);let a=this.getBearingDiff(t,e);return this.addHeading(t,a)==e?this.addHeading(t,a/2):this.addHeading(t,-1*a/2)},parseDMS:t=>t.parseDMS(),getBoundsOfData:t=>{t.reduce((function(t,e){return{latMin:isNaN(t.latMin)||t.latMin>e.lat?e.lat:t.latMin,latMax:isNaN(t.latMax)||t.latMax<e.lat?e.lat:t.latMax,lngMin:isNaN(t.lngMin)||t.lngMin>e.lng?e.lng:t.lngMin,lngMax:isNaN(t.lngMax)||t.lngMax<e.lng?e.lng:t.lngMax}}),{latMin:1/0,latMax:-1/0,lngMin:1/0,lngMax:-1/0})},getDistanceCos:(t,e,a)=>{let n=a||6371;return Math.acos(Math.sin(t.lat*Math.PI/180)*Math.sin(e.lat*Math.PI/180)+Math.cos(t.lat*Math.PI/180)*Math.cos(e.lat*Math.PI/180)*Math.cos((e.lon-t.lon)*Math.PI/180))*n},getDistanceHaversine:(t,e)=>{let a=(e.lat-t.lat)*Math.PI/180,n=(e.lon-t.lon)*Math.PI/180;t.lat=t.lat*Math.PI/180,e.lat=e.lat*Math.PI/180;let r=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t.lat)*Math.cos(e.lat)*Math.sin(n/2)*Math.sin(n/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},getDistanceFromSpeedTime:(t,e)=>({distInDegree:t*(e/3600)/111.12,distInFeet:t*(e/3600)*3280.84,distInKilometers:t*(e/3600),distInNM:t*(e/3600)*.539957}),getPostionFromBearingAndDistance:(t,e,a)=>{let n={lat:t.lat(),lng:t.lng()};dist=e/6371e3/1e3;let r=Number(a)*Math.PI/180,i=n.lat;i=i*Math.PI/180;let l=n.lng;l=l*Math.PI/180;let o=Math.asin(Math.sin(i)*Math.cos(dist)+Math.cos(i)*Math.sin(dist)*Math.cos(r)),s=l+Math.atan2(Math.sin(r)*Math.sin(dist)*Math.cos(i),Math.cos(dist)-Math.sin(i)*Math.sin(o));return{lat:180*o/Math.PI,lng:180*s/Math.PI}},getIntersection:({lineA:t,lineB:e})=>{let a=t.start.lon-t.end.lon,n=e.start.lon-e.end.lon,r=t.start.lat-t.end.lat,i=e.start.lat-e.end.lat,l=a*i-r*n;if(0==l)return!1;let o=t.start.lon*t.end.lat-arrs.lineA.start.lat*t.end.lon,s=e.start.lon*e.end.lat-e.start.lat*e.end.lon;return{lat:(o*i-s*r)/l,lon:(o*n-s*a)/l}},crossTrackDistanceTo:function({lineStart:t,lineEnd:e,currentPoint:a,haversine:n=!1}){let r=n?this.getDistanceHaversine(t,a,6371e3)/6371e3:this.getDistanceCos(t,a,6371e3)/6371e3,i=this.getBearingBetweenTwoPoints(t,a)*(Math.PI/180),l=this.getBearingBetweenTwoPoints(t,e)*(Math.PI/180);return 6371e3*Math.asin(Math.sin(r)*Math.sin(i-l))},getMinMaxAvgFromArray:t=>{let e=t.reduce((function(t,e){return(isNaN(t)||null===t||""===t)&&(t=-1/0),(isNaN(e)||null===e||""===e)&&(e=-1/0),Math.max(t,e)}),-1/0);return{min:t.reduce((function(t,e){return(isNaN(t)||null===t||""===t)&&(t=1/0),(isNaN(e)||null===e||""===e)&&(e=1/0),Math.min(t,e)}),1/0),max:e,avg:t.reduce((function(t,e){return isNaN(e)||null===e||""===e?t:t+Number(e)}),0)/t.length}},mercator:({latitude:t,longitude:e})=>{const a=85.0511287798,n=Math.PI/180;let r={};return r.lon=6378137*e*n,r.lat=Math.max(Math.min(a,t),-a)*n,r.lat=6378137*Math.log(Math.tan(Math.PI/4+r.lat/2)),r},humanTime:t=>{let e=(t/1e3).toFixed(0),a=Math.floor(e/60),n="";return a>59&&(n=Math.floor(a/60),n=n>=10?n:"0"+n,a-=60*n,a=a>=10?a:"0"+a),e=Math.floor(e%60),e=e>=10?e:"0"+e,""!=n?n+":"+a+":"+e:a+":"+e},GDP_smoother:function(t,e){let a,n,r,i,l,o,s,h,u,M,c,d,g,f,p,b,N,P,m,I=Math.PI/180*.5,y=new Array,x=new Array,D=new Array;if(t.length<3)return t;for(a=t.length,M=360*e/(2*Math.PI*6378137),M*=M,r=0,x[0]=0,D[0]=a-1,n=1;n>0;)if(i=x[n-1],l=D[n-1],n--,l-i>1){for(c=t[l].lon-t[i].lon,d=t[l].lat-t[i].lat,Math.abs(c)>180&&(c=360-Math.abs(c)),c*=Math.cos(I*(t[l].lat+t[i].lat)),g=c*c+d*d,o=i+1,s=i,u=-1;o<l;o++)f=t[o].lon-t[i].lon,p=t[o].lat-t[i].lat,Math.abs(f)>180&&(f=360-Math.abs(f)),f*=Math.cos(I*(t[o].lat+t[i].lat)),b=f*f+p*p,N=t[o].lon-t[l].lon,P=t[o].lat-t[l].lat,Math.abs(N)>180&&(N=360-Math.abs(N)),N*=Math.cos(I*(t[o].lat+t[l].lat)),m=N*N+P*P,h=b>=g+m?m:m>=g+b?b:(f*d-p*c)*(f*d-p*c)/g,h>u&&(s=o,u=h);u<M?(y[r]=i,r++):(n++,x[n-1]=s,D[n-1]=l,n++,x[n-1]=i,D[n-1]=s)}else y[r]=i,r++;y[r]=a-1,r++;let v=new Array;for(let e=0;e<r;e++)v.push(t[y[e]]);return v}}})()}])}));
//# sourceMappingURL=geo.min.js.map